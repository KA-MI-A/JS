<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>配合 setTimeout</title>
    <script>
        //在默认情况下，使用 window.setTimeout() 时，this 关键字会指向 window （或 global）对象。
        //当类的方法中需要 this 指向类的实例时，你可能需要显式地把 this 绑定到回调函数，就不会丢失该实例的引用。
        function LateBloomer() {
            this.petalCount = Math.ceil(Math.random() * 12) + 1;
        }

        // 在 1 秒钟后声明 bloom
        LateBloomer.prototype.bloom = function () {
            window.setTimeout(this.declare.bind(this), 1000);
        };

        LateBloomer.prototype.declare = function () {
            console.log('I am a beautiful flower with ' +
                this.petalCount + ' petals!');
        };

        var flower = new LateBloomer();
        flower.bloom();  // 一秒钟后, 调用 'declare' 方法
    </script>
</head>

<body>

</body>

</html>